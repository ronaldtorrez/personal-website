---
import Layout from '@layouts/Layout.astro'
import { type CollectionEntry, getCollection, render } from 'astro:content'

interface Props {
	project: CollectionEntry<'projects'>
}

export async function getStaticPaths() {
	const projects = await getCollection('projects')

	return projects.map(project => ({
		params: { id: project.id },
		props: { project }
	}))
}

const { project } = Astro.props
const { Content } = await render(project)
---

<Layout>
	<Content />
</Layout>
